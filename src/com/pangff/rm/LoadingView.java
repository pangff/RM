package com.pangff.rm;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.content.IntentFilter;import android.os.Bundle;import android.util.AttributeSet;import android.view.LayoutInflater;import android.view.MotionEvent;import android.view.View;import android.view.ViewGroup;import android.widget.RelativeLayout;public class LoadingView extends RelativeLayout{	private Context mContext;	MainBroadReciever broadReciever;	public LoadingView(Context context) {		super(context);		mContext=context;		initView();	}	public LoadingView(Context context, AttributeSet attrs) {		super(context, attrs);		mContext=context;		initView();	}	private void initView() {		Intent intent = new Intent("loadingView");		Bundle bundle = new Bundle();		intent.putExtras(bundle);		mContext.sendBroadcast(intent);		LayoutInflater.from(mContext).inflate(R.layout.loading_view, this, true);		IntentFilter filter = new IntentFilter(Constants.ACTION_REMOVE_LOADING);		broadReciever = new MainBroadReciever();		mContext.registerReceiver(broadReciever, filter);				this.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {							}		});	}	public class MainBroadReciever extends BroadcastReceiver {		@Override		public void onReceive(Context context, Intent intent) {			ViewGroup parentView=(ViewGroup)getParent();			parentView.removeView(LoadingView.this);			mContext.unregisterReceiver(broadReciever);		}	}	@Override	public boolean onInterceptTouchEvent(MotionEvent ev) {		return true;	}	}
